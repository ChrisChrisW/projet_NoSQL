{% extends "layout.html" %}
{% block title %}Editer le Elasticsearch{% endblock %}
{% block page_title %}Editer le Elasticsearch{% endblock %}

{% block content %}
    {% set item_id = es_data._id %}
    {% set item = es_data._source %}
    <div class="card p-3 rounded shadow border-0" style="width: 25rem;">
        <h1 class="text-center mb-4 text-warning">Edit Item </h1>
        
        <form method="POST" action="{{ url_for('edit_elasticsearch', item_id=item_id) }}">
            <div class="form-group">
                <label for="field1">Field 1:</label>
                <input type="text" id="field1" name="field1" class="form-control" value="{{ item['field1'] }}" required>
            </div>
            
            <div class="form-group">
                <label for="field2">Field 2:</label>
                <input type="text" id="field2" name="field2" class="form-control" value="{{ item['field2'] }}" required>
            </div>

            <input type="hidden" name="_method" value="PUT">
            <button type="submit" class="btn btn-primary btn-block">Save Changes</button>
        </form>

        <form method="POST" action="{{ url_for('delete_elasticsearch', item_id=item_id) }}" onsubmit="return confirm('Are you sure you want to delete?');">
            <input type="hidden" name="_method" value="DELETE">
            <button type="submit" name="delete_es" class="btn btn-danger btn-block mt-3">Delete Item</button>
        </form>
    </div>
{% endblock %}
